(function(e){function t(t){for(var o,s,a=t[0],u=t[1],i=t[2],b=0,d=[];b<a.length;b++)s=a[b],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var u=n[a];0!==r[u]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},c=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var i=0;i<a.length;i++)t(a[i]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"38b8":function(e,t,n){"use strict";n("a8e0")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={class:"w-full flex"};function c(e,t,n,c,s,a){var u=Object(o["u"])("AppHeader"),i=Object(o["u"])("router-view");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])(u),Object(o["g"])("div",r,[Object(o["g"])(i)])],64)}var s={class:"w-full bg-teal-800 text-white\n      px-4 py-2 flex justify-between"};function a(e,t,n,r,c,a){var u=Object(o["u"])("router-link");return Object(o["p"])(),Object(o["d"])("nav",s,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(c.list,(function(e){return Object(o["p"])(),Object(o["d"])(u,{key:e.to,class:"mx-4",to:e.to},{default:Object(o["A"])((function(){return[Object(o["f"])(Object(o["w"])(e.title),1)]})),_:2},1032,["to"])})),128))])}var u={data:function(){return{list:[{title:"Home",to:"/"},{title:"Calendar",to:"/calendar"},{title:"Cloud-Tombs",to:"/cloudtombs"}]}}};u.render=a;var i=u,l=n("8aa5"),b=(n("ea7b"),n("e71f"),{apiKey:"AIzaSyC4tAGEEm4JwYdfX1jAcUi__p_Pxo1_1U4",authDomain:"cloud-tomb.firebaseapp.com",databaseURL:"https://cloud-tomb.firebaseio.com",projectId:"cloud-tomb",storageBucket:"cloud-tomb.appspot.com",messagingSenderId:"445919757841",appId:"1:445919757841:web:0e35a2b5f04b4d9cb393b0"});l["initializeApp"](b);var d=l,p=n("bc3a"),g=n.n(p),m=(n("45fc"),n("6c02")),O={class:"m-auto"},f=Object(o["g"])("h1",{class:"text-2xl my-2 text-center"},"Vue Calendar",-1),j={class:"mx-2 flex justify-between"},h={class:"font-bold"},y={class:"font-bold"},w={class:"flex my-2"},v={class:"flex flex-wrap"},x={class:"flex justify-between my-4"};function U(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("div",O,[f,Object(o["g"])("section",j,[Object(o["g"])("h2",h,Object(o["w"])(s.currentMonthName),1),Object(o["g"])("h2",y,Object(o["w"])(c.currentYear),1)]),Object(o["g"])("section",w,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(c.days,(function(e){return Object(o["p"])(),Object(o["d"])("p",{class:"text-center",style:{width:"14.28%"},key:e},Object(o["w"])(e),1)})),128))]),Object(o["g"])("section",v,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(s.startDay(),(function(e){return Object(o["p"])(),Object(o["d"])("p",{class:"text-center",style:{width:"14.28%"},key:e})})),128)),(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(s.daysInMonth(),(function(e){return Object(o["p"])(),Object(o["d"])("p",{class:["text-center",s.currentDateClass(e)],style:{width:"14.28%"},key:e},Object(o["w"])(e),3)})),128))]),Object(o["g"])("section",x,[Object(o["g"])("button",{class:"px-2 border rounded",onClick:t[1]||(t[1]=function(){return s.prev.apply(s,arguments)})},"Prev"),Object(o["g"])("button",{class:"px-2 border rounded",onClick:t[2]||(t[2]=function(){return s.next.apply(s,arguments)})},"Next")])])}var L={data:function(){return{currentMonth:(new Date).getMonth(),currentYear:(new Date).getFullYear(),currentDate:(new Date).getUTCDate(),days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}},methods:{daysInMonth:function(){return new Date(this.currentYear,this.currentMonth+1,0).getDate()},startDay:function(){return new Date(this.currentYear,this.currentMonth,1).getDay()},next:function(){11==this.currentMonth?(this.currentMonth=0,this.currentYear++):this.currentMonth++},prev:function(){0==this.currentMonth?(this.currentMonth=11,this.currentYear--):this.currentMonth--},currentDateClass:function(e){var t=new Date(this.currentYear,this.currentMonth,e).toDateString(),n=(new Date).toDateString();return t==n?"text-red-500":""}},computed:{currentMonthName:function(){return new Date(this.currentYear,this.currentMonth).toLocaleDateString("default",{month:"long"})}}};L.render=U;var T=L,k={class:"m-auto"},S=Object(o["g"])("div",{class:"flex bg-gray-200"},[Object(o["g"])("h1",{class:"text-center"},"Welcome to Cloud Tomb"),Object(o["g"])("div",{class:"text-center"},"Description: This is Home page, change stuff from here")],-1),C={class:"flex bg-gray-200"},M={class:"flex-initial text-gray-700 text-center bg-gray-400 px-4 py-2 m-2"},D={class:"flex-initial text-gray-700 text-center bg-gray-400 px-4 py-2 m-2"};function I(e,t,n,r,c,s){var a=Object(o["u"])("LoginComponent"),u=Object(o["u"])("SignupModal"),i=Object(o["u"])("LoginModal"),l=Object(o["u"])("TombView");return Object(o["p"])(),Object(o["d"])("div",k,[S,Object(o["g"])("div",C,[Object(o["g"])("div",M,[Object(o["g"])(a,{onOpenLoginModal:t[1]||(t[1]=function(e){return c.isLoginOpen=!0}),onOpenSignupModal:t[2]||(t[2]=function(e){return c.isSignupOpen=!0})}),c.isSignupOpen?(Object(o["p"])(),Object(o["d"])(u,{key:0,onCloseSignup:t[3]||(t[3]=function(e){return c.isSignupOpen=!1})})):Object(o["e"])("",!0),c.isLoginOpen?(Object(o["p"])(),Object(o["d"])(i,{key:1,onCloseLogin:t[4]||(t[4]=function(e){return c.isLoginOpen=!1})})):Object(o["e"])("",!0)]),Object(o["g"])("div",D,[Object(o["g"])(l)])])])}var P={key:0},A=Object(o["g"])("div",{class:"text-xl"}," Want to make your own tomb? ",-1),B={class:"p-2 mt-2"},G={class:"flex-1"},W={key:1},_={class:"border bg-pink-100"},E=Object(o["f"])(" Creat your own tomb!");function Y(e,t,n,r,c,s){var a=Object(o["u"])("router-link");return Object(o["p"])(),Object(o["d"])("div",null,[c.currentUser.isLoggedIn?(Object(o["p"])(),Object(o["d"])("div",W,[Object(o["g"])("div",null,Object(o["w"])(c.currentUser.fireBaseUser.displayName),1),Object(o["g"])("img",{src:c.currentUser.fireBaseUser.photoURL},null,8,["src"]),Object(o["g"])("button",_,[Object(o["g"])(a,{class:"mx-4",to:"/makeyourowntomb"},{default:Object(o["A"])((function(){return[E]})),_:1})]),Object(o["g"])("div",null,[Object(o["g"])("button",{onClick:t[3]||(t[3]=function(){return s.logout.apply(s,arguments)})}," Log out")])])):(Object(o["p"])(),Object(o["d"])("div",P,[A,Object(o["g"])("div",B,[Object(o["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("open-login-modal")}),class:"flex-1 text-xl text-white text-center\n            bg-teal-700 border-2 border-gray-500 rounded"}," Log in "),Object(o["g"])("div",G,[Object(o["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.$emit("open-signup-modal")}),class:"text-l text-gray-700"}," Sign up ")])])]))])}var V={data:function(){return{currentUser:st.currentUser}},methods:{logout:function(){d.auth().signOut().then((function(e){})).catch((function(e){})),st.logoutUser()}}};V.render=Y;var $=V,F={key:0},R={key:1},z=Object(o["f"])(" Random Tomb: ");function H(e,t,n,r,c,s){return c.currentUser.isLoggedIn&&c.currentUser.tombText.length>0?(Object(o["p"])(),Object(o["d"])("div",F,[Object(o["g"])("div",null,Object(o["w"])(c.currentUser.tombText),1),Object(o["g"])("div",null," From "+Object(o["w"])(c.currentUser.birthday),1)])):(Object(o["p"])(),Object(o["d"])("div",R,[z,Object(o["g"])("div",null,Object(o["w"])(c.randomTomb.tombText),1),Object(o["g"])("div",null,Object(o["w"])(c.randomTomb.birthday),1)]))}var N={data:function(){return{randomTomb:st.randomTomb,currentUser:st.currentUser}},mounted:function(){st.updateRandomTomb()}};N.render=H;var J=N,q={class:"absolute inset-0"},K={class:"flex h-full"},X={class:"z-20 m-auto bg-white p-2 rounded shadow w-1/3"},Q={class:"p-2 border"},Z=Object(o["g"])("h1",{class:"text-2xl text-center"},"Login",-1),ee=Object(o["g"])("p",{class:"my-2 text-center"}," Or ",-1),te={class:"my-2"},ne=Object(o["g"])("label",null,"Email or Username",-1),oe={class:"my-2"},re=Object(o["g"])("label",null,"Password",-1),ce={class:"my-2"},se={class:"w-full rounded shadow-md bg-teal-500 text-white p-2",type:"submit"},ae={key:0},ue={key:1};function ie(e,t,n,r,c,s){var a=Object(o["u"])("GoogleLogin");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",{onClick:t[1]||(t[1]=function(){return s.close.apply(s,arguments)}),class:"z-20 h-screen w-screen bg-gray-500 fixed top-0 opacity-50"}),Object(o["g"])("div",null,[Object(o["g"])("div",q,[Object(o["g"])("div",K,[Object(o["g"])("div",X,[Object(o["g"])("div",Q,[Z,Object(o["g"])(a,{onCloseLoginFromGoogle:s.close},null,8,["onCloseLoginFromGoogle"]),ee,Object(o["g"])("form",{class:"p-2 my-2",onSubmit:t[4]||(t[4]=Object(o["C"])((function(){return s.submit.apply(s,arguments)}),["prevent"]))},[Object(o["g"])("div",te,[ne,Object(o["B"])(Object(o["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.email=e}),class:"rounded shadow p-2 w-full",placeholder:"Enter your email or username",ref:"emailinputbox"},null,512),[[o["y"],c.email]])]),Object(o["g"])("div",oe,[re,Object(o["B"])(Object(o["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e}),class:"rounded shadow p-2 w-full",type:"password",placeholder:"Enter your password",ref:"passwordinputbox"},null,512),[[o["y"],c.password]])]),Object(o["g"])("div",ce,[Object(o["g"])("button",se,[c.isLoading?(Object(o["p"])(),Object(o["d"])("span",ue," Loading... ")):(Object(o["p"])(),Object(o["d"])("span",ae," Log in "))])])],32)])])])])])],64)}var le={class:"my-5 text-center text-xl"};function be(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("section",le,[Object(o["g"])("button",{class:"border rounded px-2 bg-pink-300",onClick:t[1]||(t[1]=function(){return s.loginWithGoogle.apply(s,arguments)})}," Login With Google ")])}var de={methods:{loginWithGoogle:function(){var e=this,t=new d.auth.GoogleAuthProvider;d.auth().signInWithPopup(t).then((function(){e.$emit("close-login-from-google")}))}}};de.render=be;var pe=de,ge={components:{GoogleLogin:pe},data:function(){return{email:"abc123@gmail.com",password:"abc123",isLoading:!1}},methods:{submit:function(){var e=this;this.isLoading=!0,d.auth().signInWithEmailAndPassword(this.email,this.password).then((function(){e.email="",e.password="",e.isLoading=!1,e.close()})).catch((function(t){var n=t.code,o=t.message;"auth/wrong-password"===n?alert("Wrong password."):alert(o),console.log(t),e.isLoading=!1}))},close:function(){this.$emit("close-login")}},mounted:function(){this.$refs.emailinputbox.focus(),this.$refs.passwordinputbox.focus()}};ge.render=ie;var me=ge,Oe={class:"absolute inset-0"},fe={class:"flex h-full"},je={class:"z-20 m-auto bg-white p-2 rounded shadow w-1/3"},he={class:"p-2 border"},ye=Object(o["g"])("h1",{class:"text-2xl text-center"},"Sign up",-1),we=Object(o["g"])("p",{class:"my-2 text-center"}," Or ",-1),ve={class:"my-2"},xe=Object(o["g"])("label",null,"Email or Username",-1),Ue={class:"my-2"},Le=Object(o["g"])("label",null,"Password",-1),Te={class:"my-2"},ke=Object(o["g"])("label",null,"Password",-1),Se={class:"my-2"},Ce={class:"w-full rounded shadow-md bg-teal-500 text-white p-2",type:"submit"},Me={key:0},De={key:1};function Ie(e,t,n,r,c,s){var a=Object(o["u"])("GoogleLogin");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("div",{onClick:t[1]||(t[1]=function(){return s.close.apply(s,arguments)}),class:"z-20 h-screen w-screen bg-gray-500 fixed top-0 opacity-50"}),Object(o["g"])("div",null,[Object(o["g"])("div",Oe,[Object(o["g"])("div",fe,[Object(o["g"])("div",je,[Object(o["g"])("div",he,[ye,Object(o["g"])(a,{onCloseLoginFromGoogle:s.close},null,8,["onCloseLoginFromGoogle"]),we,Object(o["g"])("form",{class:"p-2 my-2",onSubmit:t[5]||(t[5]=Object(o["C"])((function(){return s.submit.apply(s,arguments)}),["prevent"]))},[Object(o["g"])("div",ve,[xe,Object(o["B"])(Object(o["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.email=e}),class:"rounded shadow p-2 w-full",placeholder:"Enter your email or username",ref:"emailinputbox"},null,512),[[o["y"],c.email]])]),Object(o["g"])("div",Ue,[Le,Object(o["B"])(Object(o["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e}),class:"rounded shadow p-2 w-full",type:"password",placeholder:"Enter your password",ref:"passwordinputbox"},null,512),[[o["y"],c.password]])]),Object(o["g"])("div",Te,[ke,Object(o["B"])(Object(o["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.password2=e}),class:"rounded shadow p-2 w-full",type:"password",placeholder:"Repeat your password",ref:"passwordinputbox"},null,512),[[o["y"],c.password2]])]),Object(o["g"])("div",Se,[Object(o["g"])("button",Ce,[c.isLoading?(Object(o["p"])(),Object(o["d"])("span",De," Loading... ")):(Object(o["p"])(),Object(o["d"])("span",Me," Sign up "))])])],32)])])])])])],64)}var Pe={components:{GoogleLogin:pe},data:function(){return{email:"",password:"",password2:"",isLoading:!1}},methods:{submit:function(){var e=this;this.password===this.password2?(this.isLoading=!0,d.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(){e.email="",e.password="",e.isLoading=!1,e.close()})).catch((function(t){var n=t.code,o=t.message;"auth/wrong-password"===n?alert("Wrong password."):alert(o),console.log(t),e.isLoading=!1}))):alert("Two passwords are not same!")},close:function(){this.$emit("close-signup")}},mounted:function(){this.$refs.emailinputbox.focus(),this.$refs.passwordinputbox.focus()}};Pe.render=Ie;var Ae=Pe,Be={components:{LoginComponent:$,TombView:J,LoginModal:me,SignupModal:Ae},data:function(){return{isLoginOpen:!1,isSignupOpen:!1,isloggedIn:st.currentUser.isLoggedIn}}};Be.render=I;var Ge=Be,We={class:"m-auto"},_e=Object(o["g"])("h1",{class:"text-2xl text-center "}," Tomb for yourself ",-1),Ee=Object(o["g"])("label",{class:"flex justify-between"}," Write down your tomb text ",-1),Ye=Object(o["g"])("button",{class:"flex border rounded",type:"submit"},"Submit",-1),Ve=Object(o["f"])(" kkk ");function $e(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("div",We,[_e,c.isSubmitted?Object(o["e"])("",!0):(Object(o["p"])(),Object(o["d"])("form",{key:0,class:"",onSubmit:t[2]||(t[2]=Object(o["C"])((function(e){return s.submittomb()}),["prevent"]))},[Ee,Object(o["B"])(Object(o["g"])("textarea",{class:"border rounded-lg","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.text=e}),placeholder:"Write your inscription here"},null,512),[[o["y"],c.text]]),Ye,Ve],32))])}var Fe={data:function(){return{text:"",isSubmitted:!1}},methods:{submittomb:function(){st.submitTombText(this.text),this.isSubmitted=!0,Ke.push({path:"/"})}}};Fe.render=$e;var Re=Fe;function ze(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("div",null,[Object(o["g"])("p",null,Object(o["w"])(c.randomTomb.tombText),1),Object(o["g"])("div",null,[Object(o["g"])("strong",null,"From "+Object(o["w"])(c.randomTomb.birthday),1)])])}var He={data:function(){return{randomTomb:st.randomTomb}},mounted:function(){st.updateRandomTomb()}};n("38b8");He.render=ze;var Ne=He,Je=[{path:"/",component:Ge},{path:"/makeyourowntomb",component:Re,meta:{requireAuth:!0}},{path:"/calendar",component:T},{path:"/cloudtombs",component:Ne}],qe=Object(m["a"])({history:Object(m["b"])(),routes:Je});qe.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requireAuth}))?(console.log("a"),console.log(st.isUserLoggedIn()),st.isUserLoggedIn()?n():n({path:"/"})):n()}));var Ke=qe,Xe=Object(o["r"])({currentUser:{isLoggedIn:!1,tombText:"",birthday:"",fireBaseUser:null},randomTomb:{tombText:"",birthday:""}});function Qe(e){Xe.currentUser.isLoggedIn=!0,Xe.currentUser.fireBaseUser=e,g.a.get("api/tombtext/"+e.uid).then((function(e){Xe.currentUser.tombText=e.data.tombText})).catch((function(e){return console.log(e)}))}function Ze(){Xe.currentUser.isLoggedIn=!1,Xe.currentUser.fireBaseUser=null,Xe.currentUser.tombText=""}function et(e){Xe.currentUser.isLoggedIn?(Xe.currentUser.tombText=e,g.a.post("api/tombtext/"+Xe.currentUser.fireBaseUser.uid,{tombText:Xe.currentUser.tombText}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))):Ke.push({path:"/"})}function tt(){Xe.randomTomb={tombText:"A random soul had been here before",birthday:"1981"}}var nt=Object(o["b"])((function(){return Xe.randomTomb})),ot=Object(o["b"])((function(){return Xe.currentUser}));function rt(){return Xe.currentUser.isLoggedIn}function ct(){return Xe.currentUser}var st={loginUser:Qe,logoutUser:Ze,submitTombText:et,updateRandomTomb:tt,isUserLoggedIn:rt,getCurrentUser:ct,currentUser:ot,randomTomb:nt},at={components:{AppHeader:i},mounted:function(){d.auth().onAuthStateChanged((function(e){e&&(st.loginUser(e),console.log(e))}))}};at.render=c;var ut=at,it=(n("7d05"),Object(o["c"])(ut));it.use(Ke),it.mount("#app")},"7d05":function(e,t,n){},a8e0:function(e,t,n){}});
//# sourceMappingURL=app.170bab4c.js.map