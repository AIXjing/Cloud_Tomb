(function(e){function t(t){for(var o,s,a=t[0],i=t[1],u=t[2],b=0,d=[];b<a.length;b++)s=a[b],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);l&&l(t);while(d.length)d.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},c=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t,n,r,c,s){var a=Object(o["u"])("AppHeader"),i=Object(o["u"])("router-view");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])(a),Object(o["g"])(i)],64)}var c={class:"nav-style"},s=Object(o["f"])(" Home "),a={id:"nav-mypage"},i=Object(o["f"])(" My page ");function u(e,t,n,r,u,l){var b=Object(o["u"])("router-link");return Object(o["p"])(),Object(o["d"])("nav",c,[Object(o["g"])("div",null,[Object(o["g"])(b,{to:{path:"/"}},{default:Object(o["B"])((function(){return[s]})),_:1})]),Object(o["g"])("div",a,[Object(o["g"])(b,{to:{path:"/Mypage"}},{default:Object(o["B"])((function(){return[i]})),_:1})])])}var l={data:function(){return{}}};l.render=u;var b=l,d=n("8aa5"),p=(n("ea7b"),n("e71f"),{apiKey:"AIzaSyC4tAGEEm4JwYdfX1jAcUi__p_Pxo1_1U4",authDomain:"cloud-tomb.firebaseapp.com",databaseURL:"https://cloud-tomb.firebaseio.com",projectId:"cloud-tomb",storageBucket:"cloud-tomb.appspot.com",messagingSenderId:"445919757841",appId:"1:445919757841:web:0e35a2b5f04b4d9cb393b0"});d["initializeApp"](p);var g=d,O=n("bc3a"),j=n.n(O),m=(n("45fc"),n("6c02")),f={id:"main-content",class:"container"},h=Object(o["g"])("h1",null,"Welcome to Cloud Tomb",-1),y={id:"logincomponent-mypage"};function v(e,t,n,r,c,s){var a=Object(o["u"])("LoginComponent"),i=Object(o["u"])("SignupModal"),u=Object(o["u"])("LoginModal");return Object(o["p"])(),Object(o["d"])("div",f,[h,Object(o["g"])("div",y,[Object(o["g"])(a)]),c.isSignupOpen?(Object(o["p"])(),Object(o["d"])(i,{key:0,onCloseSignup:t[1]||(t[1]=function(e){return c.isSignupOpen=!1})})):Object(o["e"])("",!0),c.isLoginOpen?(Object(o["p"])(),Object(o["d"])(u,{key:1,onCloseLogin:t[2]||(t[2]=function(e){return c.isLoginOpen=!1})})):Object(o["e"])("",!0)])}var w=n("fcb6"),x=n.n(w),k={key:0},U=Object(o["g"])("div",{class:"text-xl"}," Want to make your own tomb? ",-1),L={class:"p-2 mt-2"},C={class:"flex-1"},M={key:1,class:"profile-content"},S={key:0},T={class:"user-name"},I={key:1},N=Object(o["g"])("img",{class:"user-photo",src:x.a},null,-1),P={class:"user-name"},z={key:2},Y={class:"edit-tomb-button"},A=Object(o["f"])(" Create your own tomb!"),G={key:3},V={class:"edit-tomb-button"},_=Object(o["f"])(" Edit your own tomb!"),B={id:"logout"};function E(e,t,n,r,c,s){var a=Object(o["u"])("router-link");return c.isLoggedIn?(Object(o["p"])(),Object(o["d"])("div",M,[c.firebaseUser.displayName?(Object(o["p"])(),Object(o["d"])("div",S,[Object(o["g"])("img",{class:"user-photo",src:c.firebaseUser.photoURL},null,8,["src"]),Object(o["g"])("div",T,Object(o["w"])(c.firebaseUser.displayName),1)])):(Object(o["p"])(),Object(o["d"])("div",I,[N,Object(o["g"])("div",P,Object(o["w"])(c.firebaseUser.email),1)])),c.currentUser.inscription?(Object(o["p"])(),Object(o["d"])("div",G,[Object(o["g"])("button",V,[Object(o["g"])(a,{class:"user-button-text",to:"/editYourTomb"},{default:Object(o["B"])((function(){return[_]})),_:1})])])):(Object(o["p"])(),Object(o["d"])("div",z,[Object(o["g"])("button",Y,[Object(o["g"])(a,{class:"user-button-text",to:"/editYourTomb"},{default:Object(o["B"])((function(){return[A]})),_:1})])])),Object(o["g"])("div",B,[Object(o["g"])("button",{onClick:t[3]||(t[3]=function(){return s.logout.apply(s,arguments)})}," Log out")])])):(Object(o["p"])(),Object(o["d"])("div",k,[U,Object(o["g"])("div",L,[Object(o["g"])("button",{onClick:t[1]||(t[1]=function(t){return e.$emit("open-login-modal")}),class:"flex-1 text-xl text-white text-center\n            bg-teal-700 border-2 border-gray-500 rounded"}," Log in "),Object(o["g"])("div",C,[Object(o["g"])("button",{onClick:t[2]||(t[2]=function(t){return e.$emit("open-signup-modal")}),class:"text-l text-gray-700"}," Sign up ")])])]))}var W={data:function(){return{currentUser:$t.currentUser,firebaseUser:$t.firebaseUser,isLoggedIn:$t.isLoggedIn}},methods:{logout:function(){g.auth().signOut().then((function(e){})).catch((function(e){})),$t.logoutUser()}}};W.render=E;var D=W,$={class:"absolute inset-0"},F={class:"flex h-full"},R={class:"z-20 m-auto bg-white p-2 rounded shadow w-1/3"},H={class:"p-2 border"},J=Object(o["g"])("h1",{class:"text-2xl text-center"},"Login",-1),q=Object(o["g"])("p",{class:"my-2 text-center"}," Or ",-1),K={class:"my-2"},X=Object(o["g"])("label",null,"Email or Username",-1),Q={class:"my-2"},Z=Object(o["g"])("label",null,"Password",-1),ee={class:"my-2"},te={class:"w-full rounded shadow-md bg-teal-500 text-white p-2",type:"submit"},ne={key:0},oe={key:1};function re(e,t,n,r,c,s){var a=Object(o["u"])("GoogleLogin");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("section",{onClick:t[1]||(t[1]=function(){return s.close.apply(s,arguments)}),class:"z-20 h-screen w-screen bg-gray-500 fixed top-0 opacity-50"}),Object(o["g"])("div",$,[Object(o["g"])("div",F,[Object(o["g"])("div",R,[Object(o["g"])("div",H,[J,Object(o["g"])(a,{onCloseLoginFromGoogle:s.close},null,8,["onCloseLoginFromGoogle"]),q,Object(o["g"])("form",{class:"p-2 my-2",onSubmit:t[4]||(t[4]=Object(o["D"])((function(){return s.submit.apply(s,arguments)}),["prevent"]))},[Object(o["g"])("div",K,[X,Object(o["C"])(Object(o["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.email=e}),class:"rounded shadow p-2 w-full",placeholder:"Enter your email or username",ref:"emailinputbox"},null,512),[[o["z"],c.email]])]),Object(o["g"])("div",Q,[Z,Object(o["C"])(Object(o["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e}),class:"rounded shadow p-2 w-full",type:"password",placeholder:"Enter your password",ref:"passwordinputbox"},null,512),[[o["z"],c.password]])]),Object(o["g"])("div",ee,[Object(o["g"])("button",te,[c.isLoading?(Object(o["p"])(),Object(o["d"])("span",oe," Loading... ")):(Object(o["p"])(),Object(o["d"])("span",ne," Log in "))])])],32)])])])])],64)}var ce={class:"my-5 text-center text-xl"};function se(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("section",ce,[Object(o["g"])("button",{class:"border rounded px-2 bg-pink-300",onClick:t[1]||(t[1]=function(){return s.loginWithGoogle.apply(s,arguments)})}," Login With Google ")])}var ae={methods:{loginWithGoogle:function(){var e=this,t=new g.auth.GoogleAuthProvider;g.auth().signInWithPopup(t).then((function(){e.$emit("close-login-from-google")}))}}};ae.render=se;var ie=ae,ue={components:{GoogleLogin:ie},data:function(){return{email:"abc123@gmail.com",password:"abc123",isLoading:!1}},methods:{submit:function(){var e=this;this.isLoading=!0,g.auth().signInWithEmailAndPassword(this.email,this.password).then((function(){e.email="",e.password="",e.isLoading=!1,e.close()})).catch((function(t){var n=t.code,o=t.message;"auth/wrong-password"===n?alert("Wrong password."):alert(o),console.log(t),e.isLoading=!1}))},close:function(){this.$emit("close-login")}},mounted:function(){this.$refs.emailinputbox.focus(),this.$refs.passwordinputbox.focus()}};ue.render=re;var le=ue,be={class:"absolute inset-0"},de={class:"flex h-full"},pe={class:"z-20 m-auto bg-white p-2 rounded shadow w-1/3"},ge={class:"p-2 border"},Oe=Object(o["g"])("h1",{class:"text-2xl text-center"},"Sign up",-1),je=Object(o["g"])("p",{class:"my-2 text-center"}," Or ",-1),me={class:"my-2"},fe=Object(o["g"])("label",null,"Email or Username",-1),he={class:"my-2"},ye=Object(o["g"])("label",null,"Password",-1),ve={class:"my-2"},we=Object(o["g"])("label",null,"Password",-1),xe={class:"my-2"},ke={class:"w-full rounded shadow-md bg-teal-500 text-white p-2",type:"submit"},Ue={key:0},Le={key:1};function Ce(e,t,n,r,c,s){var a=Object(o["u"])("GoogleLogin");return Object(o["p"])(),Object(o["d"])(o["a"],null,[Object(o["g"])("section",{onClick:t[1]||(t[1]=function(){return s.close.apply(s,arguments)}),class:"z-20 h-screen w-screen bg-gray-500 fixed top-0 opacity-50"}),Object(o["g"])("div",be,[Object(o["g"])("div",de,[Object(o["g"])("div",pe,[Object(o["g"])("div",ge,[Oe,Object(o["g"])(a,{onCloseLoginFromGoogle:s.close},null,8,["onCloseLoginFromGoogle"]),je,Object(o["g"])("form",{class:"p-2 my-2",onSubmit:t[5]||(t[5]=Object(o["D"])((function(){return s.submit.apply(s,arguments)}),["prevent"]))},[Object(o["g"])("div",me,[fe,Object(o["C"])(Object(o["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.email=e}),class:"rounded shadow p-2 w-full",placeholder:"Enter your email or username",ref:"emailinputbox"},null,512),[[o["z"],c.email]])]),Object(o["g"])("div",he,[ye,Object(o["C"])(Object(o["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.password=e}),class:"rounded shadow p-2 w-full",type:"password",placeholder:"Enter your password",ref:"passwordinputbox"},null,512),[[o["z"],c.password]])]),Object(o["g"])("div",ve,[we,Object(o["C"])(Object(o["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.password2=e}),class:"rounded shadow p-2 w-full",type:"password",placeholder:"Repeat your password",ref:"passwordinputbox"},null,512),[[o["z"],c.password2]])]),Object(o["g"])("div",xe,[Object(o["g"])("button",ke,[c.isLoading?(Object(o["p"])(),Object(o["d"])("span",Le," Loading... ")):(Object(o["p"])(),Object(o["d"])("span",Ue," Sign up "))])])],32)])])])])],64)}var Me={components:{GoogleLogin:ie},data:function(){return{email:"",password:"",password2:"",isLoading:!1}},methods:{submit:function(){var e=this;this.password===this.password2?(this.isLoading=!0,g.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(){e.email="",e.password="",e.isLoading=!1,e.close()})).catch((function(t){var n=t.code,o=t.message;"auth/wrong-password"===n?alert("Wrong password."):alert(o),console.log(t),e.isLoading=!1}))):alert("Two passwords are not same!")},close:function(){this.$emit("close-signup")}},mounted:function(){this.$refs.emailinputbox.focus(),this.$refs.passwordinputbox.focus()}};Me.render=Ce;var Se=Me,Te={components:{LoginComponent:D,LoginModal:le,SignupModal:Se},data:function(){return{isLoginOpen:!1,isSignupOpen:!1}}};Te.render=v;var Ie=Te,Ne={id:"main-content",class:"container"},Pe=Object(o["g"])("h1",null,"Welcome to Cloud Tomb",-1),ze={class:"row"},Ye={class:"col-lg-3"},Ae={class:"col-lg-9"};function Ge(e,t,n,r,c,s){var a=Object(o["u"])("LoginComponent"),i=Object(o["u"])("TombView"),u=Object(o["u"])("SignupModal"),l=Object(o["u"])("LoginModal");return Object(o["p"])(),Object(o["d"])("div",Ne,[Pe,Object(o["g"])("div",ze,[Object(o["g"])("div",Ye,[Object(o["g"])(a,{id:"logincomponent",onOpenLoginModal:t[1]||(t[1]=function(e){return c.isLoginOpen=!0}),onOpenSignupModal:t[2]||(t[2]=function(e){return c.isSignupOpen=!0})})]),Object(o["g"])("div",Ae,[Object(o["g"])(i,{id:"tombview-component"})]),c.isSignupOpen?(Object(o["p"])(),Object(o["d"])(u,{key:0,onCloseSignup:t[3]||(t[3]=function(e){return c.isSignupOpen=!1})})):Object(o["e"])("",!0),c.isLoginOpen?(Object(o["p"])(),Object(o["d"])(l,{key:1,onCloseLogin:t[4]||(t[4]=function(e){return c.isLoginOpen=!1})})):Object(o["e"])("",!0)])])}n("4fad");var Ve=n("3835"),_e={class:"container"},Be={key:0,class:"row"},Ee={id:"single-tomb-box"},We={id:"single-tomb"},De={id:"tomb-lastname"},$e={id:"tomb-birthday"},Fe={id:"tomb-inscription"};function Re(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("div",_e,[c.randomUsers?(Object(o["p"])(),Object(o["d"])("section",Be,[(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(Object.entries(c.randomUsers),(function(e){var t=Object(Ve["a"])(e,2),n=t[0],r=t[1];return Object(o["p"])(),Object(o["d"])("div",{key:n,onClick:function(e){return s.open(n)},class:"col-lg-4 col-md-4 col-sm-12"},[Object(o["g"])("div",Ee,[Object(o["g"])("div",We,[Object(o["g"])("div",De,Object(o["w"])(r.lastName),1),Object(o["g"])("div",$e,Object(o["w"])(r.birthday),1),Object(o["g"])("div",Fe,' "'+Object(o["w"])(r.inscription)+'" ',1)])])],8,["onClick"])})),128))])):Object(o["e"])("",!0)])}var He={data:function(){return{randomUsers:$t.randomUsers}},mounted:function(){$t.updateRandomTomb()},methods:{open:function(e){Nt.push({name:"userTomb",params:{userId:e}})}}};He.render=Re;var Je=He,qe={components:{LoginComponent:D,TombView:Je,LoginModal:le,SignupModal:Se},data:function(){return{isLoginOpen:!1,isSignupOpen:!1}}};qe.render=Ge;var Ke=qe,Xe=Object(o["g"])("h1",{class:"text-2xl text-center m-4"}," Tomb for yourself ",-1),Qe={class:"flex flex-wrap -mx-3 mb-2"},Ze={class:"w-1/2 px-3 mb-2 mb-0"},et=Object(o["g"])("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"}," First Name ",-1),tt={key:0,class:"text-red-500 text-xs italic"},nt={class:"w-1/2 px-3"},ot=Object(o["g"])("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"}," Last Name ",-1),rt=Object(o["g"])("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"}," Birthday ",-1),ct={class:"flex flex-1 mb-6"},st={class:"border border-color-gray rounded"},at=Object(o["g"])("option",{disabled:"",value:""},"Year",-1),it={class:"border border-color-gray rounded"},ut=Object(o["g"])("option",{disabled:"",value:""},"Month",-1),lt={class:"border border-color-gray rounded"},bt=Object(o["g"])("option",{disabled:"",value:""},"Date",-1),dt={class:"flex flex-wrap -mx-3 mt-6"},pt={class:"w-full w-auto px-3 mt-2"},gt=Object(o["g"])("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"}," The words you want to leave after you die. ",-1),Ot=Object(o["g"])("div",{class:"mt-4"},[Object(o["g"])("button",{class:"flex border rounded p-2 m-auto",type:"submit"},"Submit")],-1);function jt(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("form",{class:"w-auto m-auto",onSubmit:t[7]||(t[7]=Object(o["D"])((function(e){return s.submitTomb()}),["prevent"]))},[Xe,Object(o["g"])("div",Qe,[Object(o["g"])("div",Ze,[et,Object(o["C"])(Object(o["g"])("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.currentUser.firstName=e}),placeholder:"Your name"},null,512),[[o["z"],c.currentUser.firstName]]),0==c.currentUser.firstName.length||0==c.currentUser.lastName.length?(Object(o["p"])(),Object(o["d"])("p",tt," Please fill out this field.")):Object(o["e"])("",!0)]),Object(o["g"])("div",nt,[ot,Object(o["C"])(Object(o["g"])("input",{class:"appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500","onUpdate:modelValue":t[2]||(t[2]=function(e){return c.currentUser.lastName=e}),placeholder:"Write your inscription here"},null,512),[[o["z"],c.currentUser.lastName]])])]),Object(o["g"])("div",null,[rt,Object(o["g"])("div",ct,[Object(o["g"])("div",st,[Object(o["C"])(Object(o["g"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.birthYear=e}),class:"text-gray-700"},[at,(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(c.years,(function(e){return Object(o["p"])(),Object(o["d"])("option",{key:e},Object(o["w"])(e),1)})),128))],512),[[o["y"],c.birthYear]])]),Object(o["g"])("div",it,[Object(o["C"])(Object(o["g"])("select",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.birthMonth=e}),class:"text-gray-700"},[ut,(Object(o["p"])(!0),Object(o["d"])(o["a"],null,Object(o["t"])(c.months,(function(e){return Object(o["p"])(),Object(o["d"])("option",{key:e},Object(o["w"])(e),1)})),128))],512),[[o["y"],c.birthMonth]])]),Object(o["g"])("div",lt,[Object(o["C"])(Object(o["g"])("select",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return c.birthDate=e}),class:"text-gray-700"},[bt,c.birthYear%4==0&&c.birthYear%100!=0&&"Feb"==c.birthMonth?(Object(o["p"])(!0),Object(o["d"])(o["a"],{key:0},Object(o["t"])(c.days29,(function(e){return Object(o["p"])(),Object(o["d"])("option",{key:e},Object(o["w"])(e),1)})),128)):c.birthYear%4!=0&&"Feb"==c.birthMonth?(Object(o["p"])(!0),Object(o["d"])(o["a"],{key:1},Object(o["t"])(c.days28,(function(e){return Object(o["p"])(),Object(o["d"])("option",{key:e},Object(o["w"])(e),1)})),128)):"Apr"==c.birthMonth||"June"==c.birthMonth||"Sep"==c.birthMonth||"Nov"==c.birthMonth?(Object(o["p"])(!0),Object(o["d"])(o["a"],{key:2},Object(o["t"])(c.days30,(function(e){return Object(o["p"])(),Object(o["d"])("option",{key:e},Object(o["w"])(e),1)})),128)):(Object(o["p"])(!0),Object(o["d"])(o["a"],{key:3},Object(o["t"])(c.days31,(function(e){return Object(o["p"])(),Object(o["d"])("option",{key:e},Object(o["w"])(e),1)})),128))],512),[[o["y"],c.birthDate]])])])]),Object(o["g"])("div",null,[Object(o["g"])("div",dt,[Object(o["g"])("div",pt,[gt,Object(o["C"])(Object(o["g"])("textarea",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return c.currentUser.inscription=e}),class:"overflow-auto appearance-none block w-full h-64 bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none  focus:bg-white focus:border-gray-500"},null,512),[[o["z"],c.currentUser.inscription]])])])]),Ot],32)}n("ac1f"),n("1276");var mt={data:function(){for(var e=[],t=new Date,n=t.getFullYear(),o=n;o>=1900;o--)e.push(o);for(var r=[],c=1;c<=12;c++)r.push(c);for(var s=[],a=1;a<=28;a++)s.push(a);for(var i=[],u=1;u<=29;u++)i.push(u);for(var l=[],b=1;b<=30;b++)l.push(b);for(var d=[],p=1;p<=31;p++)d.push(p);return{currentUser:$t.currentUser,days28:s,days29:i,days30:l,days31:d,months:r,years:e,birthYear:"",birthMonth:"",birthDate:""}},methods:{submitTomb:function(){this.currentUser.birthday=ft(this.birthYear,this.birthMonth,this.birthDate),$t.submitTomb(this.currentUser),Nt.push("/")}},mounted:function(){var e=this.currentUser.birthday.split("-");3===e.length&&(this.birthYear=e[0],this.birthMonth=e[1],this.birthDate=e[2])}};function ft(e,t,n){return e+"-"+t+"-"+n}mt.render=jt;var ht=mt,yt=(n("b64b"),{class:"m-auto border border border-gray-200 rounded py-3 px-4"}),vt=Object(o["g"])("h1",{class:"text-2xl text-center m-4"}," Tomb ",-1),wt={class:"block tracking-wide font-bold text-xl text-center my-10 "},xt={class:"block tracking-wide font-bold text-xl text-center my-10"},kt={class:"flex flex-wrap -mx-3 mb-6"},Ut={class:"w-full w-auto px-3"},Lt=Object(o["g"])("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"}," He/She wants to tell you that ",-1);function Ct(e,t,n,r,c,s){return Object(o["p"])(),Object(o["d"])("div",yt,[vt,Object(o["g"])("div",wt,Object(o["w"])(c.randomUser.firstName)+" "+Object(o["w"])(c.randomUser.lastName),1),Object(o["g"])("div",null,[Object(o["g"])("label",xt," From "+Object(o["w"])(c.randomUser.birthday)+" to now ",1)]),Object(o["g"])("div",null,[Object(o["g"])("div",kt,[Object(o["g"])("div",Ut,[Lt,Object(o["C"])(Object(o["g"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.randomUser.inscription=e}),class:"overflow-auto appearance-none block w-full h-64 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none  focus:bg-white focus:border-gray-500"},null,512),[[o["z"],c.randomUser.inscription]])])])]),s.isLiked?(Object(o["p"])(),Object(o["d"])("button",{key:0,class:"flex border rounded bg-gray-500 p-2 m-auto",onClick:t[2]||(t[2]=function(e){return s.changeLike()})}," Liked "+Object(o["w"])(Object.keys(c.randomUser.like).length),1)):(Object(o["p"])(),Object(o["d"])("button",{key:1,class:"flex border rounded p-2 m-auto",onClick:t[3]||(t[3]=function(e){return s.changeLike()})}," Like "+Object(o["w"])(Object.keys(c.randomUser.like).length),1))])}var Mt={data:function(){return{randomUser:{like:{}},firebaseUser:$t.firebaseUser}},computed:{isLiked:function(){return null!=this.firebaseUser&&this.firebaseUser.uid in this.randomUser.like}},methods:{changeLike:function(){var e=this.randomUser,t=this.isLiked;g.auth().currentUser.getIdTokenResult(!0).then((function(n){var o=n.token;t?(delete e.like[g.auth().currentUser.uid],j.a.delete("https://cloud-tomb.firebaseio.com/users/"+e.userId+"/like/"+g.auth().currentUser.uid+".json?auth="+o).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))):(e.like[g.auth().currentUser.uid]=1,j.a.put("https://cloud-tomb.firebaseio.com/users/"+e.userId+"/like/"+g.auth().currentUser.uid+".json?auth="+o,1).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))})).catch((function(e){console.log(e)}))}},mounted:function(){var e=this;j.a.get("https://cloud-tomb.firebaseio.com/users/"+this.$route.params.userId+".json").then((function(t){null!==t.data&&(e.randomUser=t.data,e.randomUser.userId=e.$route.params.userId,console.log(e.randomUser.like),"like"in e.randomUser||(e.randomUser.like={}))})).catch((function(e){return console.log(e)}))}};Mt.render=Ct;var St=Mt,Tt=[{path:"/",component:Ke},{path:"/editYourTomb",component:ht,meta:{requireAuth:!0}},{path:"/mypage",component:Ie},{path:"/userTomb/:userId",component:St,name:"userTomb"}],It=Object(m["a"])({history:Object(m["b"])(),routes:Tt});It.beforeEach((function(e,t,n){e.matched.some((function(e){return e.meta.requireAuth}))?$t.isLoggedIn?n():n({path:"/"}):n()}));var Nt=It,Pt=Object(o["r"])({isLoggedIn:!1,currentUser:zt(),fireBaseUser:null,randomUser:{firstName:"",lastName:"",birthday:"",inscription:"",like:0}});function zt(){return{inscription:"",birthday:"",firstName:"",lastName:"",bucketNum:"",like:0}}function Yt(e){Pt.isLoggedIn=!0,Pt.fireBaseUser=e,j.a.get("https://cloud-tomb.firebaseio.com/users/"+e.uid+".json").then((function(e){null!==e.data&&(Pt.currentUser=e.data)})).catch((function(e){return console.log(e)}))}function At(){Pt.isLoggedIn=!1,Pt.fireBaseUser=null,Pt.currentUser=zt()}function Gt(e){Pt.isLoggedIn?(Pt.currentUser=e,Pt.currentUser.bucketNum=Math.floor(1e6*Math.random()),g.auth().currentUser.getIdTokenResult(!0).then((function(e){console.log(e);var t=e.token;j.a.put("https://cloud-tomb.firebaseio.com/users/"+Pt.fireBaseUser.uid+".json?auth="+t,Pt.currentUser).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))):Nt.push({path:"/"})}function Vt(){j.a.get('https://cloud-tomb.firebaseio.com/users.json?orderBy="bucketNum"&startAt='+Math.floor(1e6*Math.random())+"&limitToLast=9&print=pretty").then((function(e){Pt.randomUsers=e.data})).catch((function(e){return console.log(e)}))}var _t=Object(o["b"])((function(){return Pt.isLoggedIn})),Bt=Object(o["b"])((function(){return Pt.currentUser})),Et=Object(o["b"])((function(){return Pt.fireBaseUser})),Wt=Object(o["b"])((function(){return Pt.randomUsers}));function Dt(){return!!Pt.currentUser.inscription}var $t={loginUser:Yt,logoutUser:At,submitTomb:Gt,updateRandomTomb:Vt,isLoggedIn:_t,currentUser:Bt,firebaseUser:Et,randomUsers:Wt,isTombCreated:Dt},Ft={components:{AppHeader:b},mounted:function(){g.auth().onAuthStateChanged((function(e){e&&$t.loginUser(e)}))}};Ft.render=r;var Rt=Ft,Ht=(n("7d05"),Object(o["c"])(Rt));Ht.use(Nt),Ht.mount("#app")},"7d05":function(e,t,n){},fcb6:function(e,t,n){e.exports=n.p+"img/Culture-Grumpy-Cat-487386121-2.d5682607.jpg"}});
//# sourceMappingURL=app.9c884ecb.js.map